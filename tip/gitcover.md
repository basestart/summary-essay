## git如何使用历史提交覆盖最新提交

工作中会遇到这样的场景： 多次commit之后， 想要撤销远程仓库后续的一次或者几次提交， 该如何操作呢？

有两种方法： 暴力和温和以及体力劳动操作三种

- 暴力

```
git reset --hard {提交记录的hash} // 本地回退到想要还原的节点

git push -f // 强制推动到远程

```
不过这种操作有个缺点： 当开发者没有远程仓库权限时， 强制push会被拒绝， 可以通过温和的方式迂回

- 温和

```
git reset --hard {提交记录的hash}

git reset --soft origin/{所在分支} // 撤销后续所有操作

git add .

git commit -m '---'
```
这样就实现了commit记录处于最新提交位置，但代码已经回归到期望的节点

当然这样也有一个问题： 如过远程代码库是多人协作且后续他人有提交， 这部分提交也会被撤销， 所以谨慎操作， 如果后续他人已经提交了多次， 就不得不使用最笨的方法了

- 最费力操作， 在回归节点切一个分支， 保留一个快照， 然后切换到主分支最新提交处， 根据需要， 覆盖修改吧

[参考](https://blog.csdn.net/misstwo_/article/details/78777188)
